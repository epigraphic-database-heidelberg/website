{% extends 'base.html' %}

{% block header %}
{% block title %}EDH: {{ title }} {% endblock %}
{% endblock %}

{% block app_content %}
<h1>{{ title }}</h1>
<h2>{{ subtitle }}</h2>
<h3 class="uri">{{ _("Canonical URI") }}:<br class="visible-xs" />
    <span id="canonical_uri">
        <a href="/edh/inschrift/{{data['hd_nr']}}">
            https://edh-www.adw.uni-heidelberg.de/edh/inschrift/{{data['hd_nr']}}
            ({{_('Last Updates')}}: {{data['datum']}}, {{data['bearbeiter']}})
        </a>
        <i class="far fa-copy fa-lg" style="color:#1F6B3B; padding-bottom:0px; cursor:pointer; margin-left:.5em;margin-right:.5em" onclick="copy2clipboard('{{ _('copied!') }}')" alt="{{ _('Copy URI to clipboard')}}" title="{{ _('Copy URI to clipboard')}}"></i>
    </span>
    <span id="copy_button" style="color:#aa2222; font-size:0.7em"></span>
</h3>
<div>
    <div class="detail_block">
        <div class="detail_block_header">
            <span class="detail_block_header_text">Allgemeine Angaben</span>
        </div>
        <div class="detail_block_content">
            <section class="detail_block_content_row">
                <div class="detail_block_content_row_header">HD-Nr:</div>
                <div class="detail_block_content_row_text">{{data['hd_nr']}}</div>
            </section>
            {% if data['gdb_id']  %}
            <section class="detail_block_content_row">
                <div class="detail_block_content_row_header">GDB_ID:</div>
                <div class="detail_block_content_row_text">{{data['gdb_id']}}</div>
            </section>
            {% endif %}
            <section class="detail_block_content_row">
                <div class="detail_block_content_row_header">Bearbeitungsstand:</div>
                <div class="detail_block_content_row_text">{{data['beleg']}}</div>
            </section>
            <section class="detail_block_content_row">
                <div class="detail_block_content_row_header">Bearbeiter:</div>
                <div class="detail_block_content_row_text">{{data['bearbeiter']}}</div>
            </section>
            <section class="detail_block_content_row">
                <div class="detail_block_content_row_header">letzte Ã„nderung:</div>
                <div class="detail_block_content_row_text">{{data['datum']}}</div>
            </section>
        </div>
    </div>
    <div class="detail_block">
        <div class="detail_block_header">
            <span class="detail_block_header_text">Transcription (<span id="toggleLinebreaks" onClick="toggleLinebreaks()">Show Linebreaks</span>)</span>
        </div>
        <div class="detail_block_content">
            <section class="detail_block_content_row">
                <div class="detail_block_content_row_header">Majuscle:</div>
                <div id="btext" class="detail_block_content_row_text">{{data['btext']}}</div>
            </section>
            <section class="detail_block_content_row">
                <div class="detail_block_content_row_header">Edition:</div>
                <div id="atext" class="detail_block_content_row_text">{{data['atext']}}</div>
            </section>
        </div>
    </div>


</div>
<script>
    function toggleLinebreaks() {
        status = document.getElementById("toggleLinebreaks").innerHTML
        if (status == "Show Linebreaks"){
            document.getElementById("atext").innerHTML = "{{data['atext_br']}}"
            document.getElementById("btext").innerHTML = "{{data['btext_br']}}"
            document.getElementById("toggleLinebreaks").innerHTML = "Remove Linebreaks"
        } else {
            document.getElementById("atext").innerHTML = "{{data['atext']}}"
            document.getElementById("btext").innerHTML = "{{data['btext']}}"
            document.getElementById("toggleLinebreaks").innerHTML = "Show Linebreaks"
        }
    }
</script>

{% endblock %}
{% block scripts %}
{{ super() }}
<script src=".{{url_for('static', filename='js/copy2clipboard.js')}}"></script>
{% endblock %}
